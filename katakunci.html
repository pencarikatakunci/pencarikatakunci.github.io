<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Keywords Generator</title>
                <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
                <style>
            a:hover, a:focus {
                text-decoration: none;
            }
            .navbar-inverse {
                background-color: #3A5795;
                border: 0px none;
            }
            .navbar-inverse .navbar-nav > .open > a, .navbar-inverse .navbar-nav > .open > a:focus, .navbar-inverse .navbar-nav > .open > a:hover {
                color: #fff;
                background-color: #115185;
            }
            @media (max-width: 767px) {
                .navbar-inverse .navbar-nav .open .dropdown-menu > li > a, .navbar-inverse .navbar-nav .open .dropdown-menu > li > a:focus, .navbar-inverse .navbar-nav .open .dropdown-menu > li > a:hover {
                    color: #fff;
                }
                .navbar-inverse .navbar-nav .open .dropdown-menu > li > a:focus, .navbar-inverse .navbar-nav .open .dropdown-menu > li > a:hover {
                    background-color: #115185;
                }
            }
        </style>
                <div class="container">
            <div class="row">
    <div class="col-sm-12 col-sm-offset-0 col-md-8 col-md-offset-2 text-center">
        <h1>Pencari Kata Kunci</h1>
        <div class="form-group">
                <div class="row">
                    <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
                        <select class="form-control" name="min" id="min" onchange="FilterIfNotWorking()">
                            <option value="0">Minimal Kata per-baris</option>
                            <option value="1">Minimal 1 kata atau lebih per-baris</option>
                            <option value="2">Minimal 2 kata atau lebih per-baris</option>
                            <option value="3">Minimal 3 kata atau lebih per-baris</option>
                            <option value="4">Minimal 4 kata atau lebih per-baris</option>
                            <option value="5">Minimal 5 kata atau lebih per-baris</option>
                            <option value="6">Minimal 6 kata atau lebih per-baris</option>
                            <option value="7">Minimal 7 kata atau lebih per-baris</option>
                            <option value="8">Minimal 8 kata atau lebih per-baris</option>
                            <option value="9">Minimal 9 kata atau lebih per-baris</option>
                        </select>
                    </div>
                </div>
            </div>
        <form method="POST" action="https://tools.dojo.cc/tools/keywords-generator" accept-charset="UTF-8"><input name="_token" type="hidden">
            <div class="form-group">
                <b><div id="numofkeywords">0 : 0</div></b>
                <p><i>Harus Huruf Kecil Semua</i></p>
            </div>
            <div class="form-group">
                <textarea id="input" class="form-control" rows="10" cols="100" name="input_text"></textarea>
            </div>
            <div class="form-group">
                <button class="btn btn-info" id="startjob" onclick="StartJob();" type="button">Generate</button>
                <button class="btn btn-primary" type="submit" >Download</button>
            </div>
            
            <div class="form-group">
                <div class="row">
                    <div class="col-xs-6">
                        <textarea id="filter-positive" class="form-control" rows="4" onkeyup="FilterIfNotWorking()" placeholder="Kata Wajib Ada (Terserah mau diisi atau tidak)<p><i>gunakan huruf kecil semua<i></p>"></textarea>
                    </div>
                    <div class="col-xs-6">
                        <textarea id="filter-negative" class="form-control" rows="4" onkeyup="FilterIfNotWorking()" placeholder="Kata Wajib Tidak Ada (Terserah mau diisi atau tidak)<p><i>gunakan huruf kecil semua<i></p>"></textarea>
                    </div>
                </div>
                <div id="container"></div>
            </div>
        </form>
    </div>
</div>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <script type="text/javascript">

    var keywordsToDisplay = new Array();
    var hashMapResults = {};
    var numOfInitialKeywords = 0;
    var doWork = false;
    var keywordsToQuery = new Array();
    var keywordsToQueryIndex = 0;
    var queryflag = false;

    window.setInterval(DoJob, 750);

    function StartJob()
    {
        if(doWork == false)
        {
            keywordsToDisplay = new Array();
            hashMapResults = {};
            keywordsToQuery = new Array();
            keywordsToQueryIndex = 0;

            hashMapResults[""] = 1;
            hashMapResults[" "] = 1;
            hashMapResults["  "] = 1;

            var ks = $('#input').val().split("\n");
            var i = 0;
            for(i = 0; i < ks.length; i++)
            {
                keywordsToQuery[keywordsToQuery.length] = ks[i];
                keywordsToDisplay[keywordsToDisplay.length] = ks[i];

                var j = 0;
                for(j = 0; j < 26; j++)
                {
                    var chr = String.fromCharCode(97 + j);
                    var currentx = ks[i] + ' ' + chr;
                    keywordsToQuery[keywordsToQuery.length] = currentx;
                    hashMapResults[currentx] = 1;
                }
            }
            //document.getElementById("input").value = '';
            //document.getElementById("input").value += "\n";
            numOfInitialKeywords = keywordsToDisplay.length;
            FilterAndDisplay();

            doWork = true;
            $('#startjob').html('Stop Generator');
        }
        else
        {
            doWork = false;
            alert("Stopped");
            $('#startjob').html('Generate');
        }
    }

    function DoJob()
    {
        if(doWork == true && queryflag == false)
        {
            if(keywordsToQueryIndex < keywordsToQuery.length)
            {
                var currentKw = keywordsToQuery[keywordsToQueryIndex];
                QueryKeyword(currentKw);
                keywordsToQueryIndex++;
            }
            else
            {
                if (numOfInitialKeywords != keywordsToDisplay.length)
                {
                    alert("Done");
                    doWork = false;
                    $('#startjob').val('Start Job');
                }
                else
                {
                    keywordsToQueryIndex = 0;
                }
            }
        }
    }

    function QueryKeyword(keyword)
    {
        var querykeyword = keyword;
        //var querykeyword = encodeURIComponent(keyword);
        var queryresult = '';
        queryflag = true;

        $.ajax({
            url: "https://suggestqueries.google.com/complete/search",
            jsonp: "jsonp",
            dataType: "jsonp",
            data: {
            q: querykeyword,
            client: "chrome"
            },
            success: function(res) {
                var retList = res[1];

                var i = 0;
                for(i = 0; i < retList.length; i++)
                {
                    var currents = CleanVal(retList[i]);
                    if(hashMapResults[currents] != 1)
                    {
                        hashMapResults[currents] = 1;
                        keywordsToDisplay[keywordsToDisplay.length] = CleanVal(retList[i]);

                        keywordsToQuery[keywordsToQuery.length] = currents;

                        var j = 0;
                        for(j = 0; j < 26; j++)
                        {
                            var chr = String.fromCharCode(97 + j);
                            var currentx = currents + ' ' + chr;
                            keywordsToQuery[keywordsToQuery.length] = currentx;
                            hashMapResults[currentx] = 1;
                        }
                    }
                }
                FilterAndDisplay();
                var textarea = document.getElementById("input");
                textarea.scrollTop = textarea.scrollHeight;
                queryflag = false;
            }
        });
    }

    function CleanVal(input)
    {
        var val = input;
        val = val.replace("\\u003cb\\u003e", "");
        val = val.replace("\\u003c\\/b\\u003e", "");
        val = val.replace("\\u003c\\/b\\u003e", "");
        val = val.replace("\\u003cb\\u003e", "");
        val = val.replace("\\u003c\\/b\\u003e", "");
        val = val.replace("\\u003cb\\u003e", "");
        val = val.replace("\\u003cb\\u003e", "");
        val = val.replace("\\u003c\\/b\\u003e", "");
        val = val.replace("\\u0026amp;", "&");
        val = val.replace("\\u003cb\\u003e", "");
        val = val.replace("\\u0026", "");
        val = val.replace("\\u0026#39;", "'");
        val = val.replace("#39;", "'");
        val = val.replace("\\u003c\\/b\\u003e", "");
        val = val.replace("\\u2013", "2013");
        if (val.length > 4 && val.substring(0, 4) == "http") val = "";
        return val;
    }

    function Filter(listToFilter)
    {
        var retList = listToFilter;

        if (document.getElementById("filter-positive").value.length > 0)
        {
            var filteredList = new Array();
            var filterContains = document.getElementById("filter-positive").value.split("\n");
            var i = 0;
            for (i = 0; i < retList.length; i++)
            {
                var currentKeyword = retList[i];
                var boolContainsKeyword = false;
                var j = 0;
                for (j = 0; j < filterContains.length; j++)
                {
                    if (filterContains[j].length > 0)
                    {
                        if (currentKeyword.indexOf(filterContains[j]) != -1)
                        {
                            boolContainsKeyword = true;
                            break;
                        }
                    }
                }

                if (boolContainsKeyword)
                {
                    filteredList[filteredList.length] = currentKeyword;
                }
            }

            retList = filteredList;
        }

        if (document.getElementById("filter-negative").value.length > 0)
        {
            var filteredList = new Array();
            var filterContains = document.getElementById("filter-negative").value.split("\n");
            var i = 0;
            for (i = 0; i < retList.length; i++)
            {
                var currentKeyword = retList[i];
                var boolCleanKeyword = true;
                var j = 0;
                for (j = 0; j < filterContains.length; j++)
                {
                    if (filterContains[j].length > 0)
                    {
                        if (currentKeyword.indexOf(filterContains[j]) >= 0)
                        {
                            boolCleanKeyword = false;
                            break;
                        }
                    }
                }

                if (boolCleanKeyword)
                {
                    filteredList[filteredList.length] = currentKeyword;
                }
            }

            retList = filteredList;
        }

        var e = document.getElementById("min");
        var min = e.options[e.selectedIndex].value;

        if(min > 0){
            var filteredList = new Array();
            var regex = /\s+/gi;

            for (i = 0; i < retList.length; i++)
            {
                var currentKeyword = retList[i];
                var boolExceedMinimum = false;

                var wordCount = 0;

                if(currentKeyword != null){
                    wordCount = currentKeyword.trim().replace(regex, ' ').split(' ').length;
                }

                if (wordCount >= min)
                {
                    filteredList.push(currentKeyword);
                }
            }

            retList = filteredList;

        }

        return retList;
    }

    function FilterAndDisplay()
    {
        var i = 0;
        var sb = '';
        var outputKeywords = Filter(keywordsToDisplay);
        for (i = 0; i < outputKeywords.length; i++)
        {
            sb += outputKeywords[i];
            sb += '\n';
        }
        document.getElementById("input").value = sb;
        document.getElementById("numofkeywords").innerHTML = '' + outputKeywords.length + ' : ' + keywordsToDisplay.length;
    }

    function FilterIfNotWorking()
    {
        if (doWork == false)
        {
            FilterAndDisplay();
        }
    }

</script>
                <script type="text/javascript">
var sc_project=12044617; 
var sc_invisible=1; 
var sc_security="cecd58fb"; 
</script>
<script type="text/javascript"
src="https://www.statcounter.com/counter/counter.js"
async></script>
<noscript><div class="statcounter"><a title="free web stats"
href="https://statcounter.com/" target="_blank"><img
class="statcounter"
src="https://c.statcounter.com/12044617/0/cecd58fb/1/"
alt="free web stats"></a></div></noscript>
<!-- End of Statcounter Code -->

    </body>
</html>
